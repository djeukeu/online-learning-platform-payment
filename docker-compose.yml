version: "3.8"
services:
  postgres:
    image: postgres:16.9-alpine3.22
    restart: always
    environment:
      POSTGRES_PASSWORD: "${DB_PASSWORD}"
      POSTGRES_USER: "${DB_USER}"
      POSTGRES_DB: "${DB_NAME}"
    volumes:
      - ./pgdata:/var/lib/postgresql/data
    ports:
      - "${DB_PORT}:5432"
  kafka-cluster:
    image: landoop/fast-data-dev:3.6.1
    environment:
      ADV_HOST: "${KAFKA_HOST}"       
      RUNTESTS: 0              
      USER: "${KAFKA_USER}"
      PASSWORD: "${KAFKA_PASSWORD}"
    ports:
      - 2181:2181                 
      - 3030:3030                
      - 8081-8083:8081-8083       
      - 9581-9585:9581-9585       
      - 9092:9092      